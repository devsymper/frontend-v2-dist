(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[70],{

/***/ "./src/action/actionHelper.js":
/*!************************************!*\
  !*** ./src/action/actionHelper.js ***!
  \************************************/
/*! exports provided: actionHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"actionHelper\", function() { return actionHelper; });\n/* harmony import */ var core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.some.js */ \"./node_modules/core-js/modules/es.array.some.js\");\n/* harmony import */ var core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ \"./node_modules/core-js/modules/es.object.values.js\");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../main */ \"./src/main.js\");\n/* harmony import */ var _plugins_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../plugins/util */ \"./src/plugins/util.js\");\n\n\n\n\nvar actionHelper = {\n  checkHasPermission: function checkHasPermission(objectType, action) {\n    var objId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n\n    if (_plugins_util__WEBPACK_IMPORTED_MODULE_3__[\"util\"].auth.isSupportter()) {\n      return true;\n    }\n\n    if (!objId) {\n      objId = '0';\n    }\n\n    var objectTypePermission = _main__WEBPACK_IMPORTED_MODULE_2__[\"SYMPER_APP\"].$store.state.app.userOperations[objectType];\n\n    if (!objectTypePermission) {\n      return false;\n    }\n\n    if (objId == '0' && action == 'list') {\n      return Object.values(objectTypePermission).some(function (mapActions) {\n        return Object.values(mapActions).some(function (flag) {\n          return flag;\n        });\n      });\n    }\n\n    if (!objectTypePermission[objId]) {\n      return false;\n    }\n\n    return objectTypePermission[objId][action];\n  },\n\n  /**\n   * Lọc ra các action được chấp nhận trong một object với key là tên action,\n   * value có thể là bất cứ cái gì\n   * @param {Object} collection object chứa các actionName và value\n   * @param {string} objectType Loại object: document_definition, orgchart ....\n   * @param {string} objId id cuả object cha cần check quyền, thường sẽ bằng hẳn thằng\n   * @param {string} subId id của các object con (instance id của objId), thường áp dụng cho document hoặc workflow\n   *\n   */\n  filterAdmittedActions: function filterAdmittedActions(collection, objectType, objId) {\n    var subId = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n    var returnArr = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var opsMap = _main__WEBPACK_IMPORTED_MODULE_2__[\"SYMPER_APP\"].$store.state.app.userOperations;\n    var userInfo = _plugins_util__WEBPACK_IMPORTED_MODULE_3__[\"util\"].auth.getSavedUserInfo();\n    var userType = userInfo.profile.type;\n\n    if (objectType == 'document_instance') {\n      objId = objId + ':0';\n    }\n\n    if (userType == 'ba') {\n      return returnArr ? Object.values(collection) : collection;\n    } else {\n      if (opsMap[objectType]) {\n        var rsl = {};\n\n        if (opsMap[objectType][0]) {\n          // nếu có quyền với thằng cha, thì các thằng con sẽ phải theo thằng cha hết\n          for (var action in opsMap[objectType][0]) {\n            if (collection[action]) {\n              rsl[action] = collection[action];\n            }\n          }\n        } // và còn có một vài quyền riêng mà thằng con được cài đặt\n\n\n        for (var _action in opsMap[objectType][objId]) {\n          if (collection[_action]) {\n            if (objectType == \"document_definition\" && _action == 'list') {\n              if (opsMap.document_instance[objId + ':0'].list_instance) {\n                rsl[_action] = collection[_action];\n              }\n            } else {\n              rsl[_action] = collection[_action];\n            }\n          }\n        } // Luôn trả về những item luôn có quyền\n\n\n        for (var key in collection) {\n          var item = collection[key];\n\n          if (item.allwaysShow) {\n            rsl[key] = item;\n          }\n        }\n\n        return returnArr ? Object.values(rsl) : rsl;\n      } else {\n        return returnArr ? [] : {};\n      }\n    }\n  }\n};\n\n//# sourceURL=webpack:///./src/action/actionHelper.js?");

/***/ }),

/***/ "./src/api/PermissionPositionOrgchart.js":
/*!***********************************************!*\
  !*** ./src/api/PermissionPositionOrgchart.js ***!
  \***********************************************/
/*! exports provided: permissionPositionOrgchartApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"permissionPositionOrgchartApi\", function() { return permissionPositionOrgchartApi; });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"./src/api/api.js\");\n/* harmony import */ var _configs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../configs.js */ \"./src/configs.js\");\n\n\nvar coreApi = new _api__WEBPACK_IMPORTED_MODULE_0__[\"default\"](_configs_js__WEBPACK_IMPORTED_MODULE_1__[\"appConfigs\"].apiDomain.core);\nvar permissionPositionOrgchartApi = {\n  addUserToPosition: function addUserToPosition(data) {\n    return coreApi.post('user/permission/position-orgchart', data);\n  }\n};\n\n//# sourceURL=webpack:///./src/api/PermissionPositionOrgchart.js?");

/***/ })

}]);