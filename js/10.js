(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[10],{

/***/ "./src/views/document/common/common.js":
/*!*********************************************!*\
  !*** ./src/views/document/common/common.js ***!
  \*********************************************/
/*! exports provided: SQLITE_COLUMN_IDENTIFIER, getControlInstanceFromStore, checkControlFormulaProp, checkControlPropertyProp, checkInTable, getControlTitleFromName, getControlType, getSDocumentSubmitStore, getListInputInDocument, checkNameControl, checkTitleControl, checkLinkControlTitle, mapTypeToEffectedControl, minimizeDataAfterRunFormula, calculatorPositionBox, addCssItem, replaceNameItem, replaceLinkControl, setNameTitleControl, setTitleTitleControl, getConfigDeleteRowTable, checkValidateControlPrimary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SQLITE_COLUMN_IDENTIFIER\", function() { return SQLITE_COLUMN_IDENTIFIER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getControlInstanceFromStore\", function() { return getControlInstanceFromStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkControlFormulaProp\", function() { return checkControlFormulaProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkControlPropertyProp\", function() { return checkControlPropertyProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkInTable\", function() { return checkInTable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getControlTitleFromName\", function() { return getControlTitleFromName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getControlType\", function() { return getControlType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSDocumentSubmitStore\", function() { return getSDocumentSubmitStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getListInputInDocument\", function() { return getListInputInDocument; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkNameControl\", function() { return checkNameControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkTitleControl\", function() { return checkTitleControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkLinkControlTitle\", function() { return checkLinkControlTitle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapTypeToEffectedControl\", function() { return mapTypeToEffectedControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"minimizeDataAfterRunFormula\", function() { return minimizeDataAfterRunFormula; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculatorPositionBox\", function() { return calculatorPositionBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addCssItem\", function() { return addCssItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"replaceNameItem\", function() { return replaceNameItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"replaceLinkControl\", function() { return replaceLinkControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setNameTitleControl\", function() { return setNameTitleControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setTitleTitleControl\", function() { return setTitleTitleControl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getConfigDeleteRowTable\", function() { return getConfigDeleteRowTable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkValidateControlPrimary\", function() { return checkValidateControlPrimary; });\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.concat.js */ \"./node_modules/core-js/modules/es.array.concat.js\");\n/* harmony import */ var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.array.filter.js */ \"./node_modules/core-js/modules/es.array.filter.js\");\n/* harmony import */ var core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es.array.find.js */ \"./node_modules/core-js/modules/es.array.find.js\");\n/* harmony import */ var core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es.array.index-of.js */ \"./node_modules/core-js/modules/es.array.index-of.js\");\n/* harmony import */ var core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es.array.reduce.js */ \"./node_modules/core-js/modules/es.array.reduce.js\");\n/* harmony import */ var core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es.array.splice.js */ \"./node_modules/core-js/modules/es.array.splice.js\");\n/* harmony import */ var core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es.function.name.js */ \"./node_modules/core-js/modules/es.function.name.js\");\n/* harmony import */ var core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es.object.keys.js */ \"./node_modules/core-js/modules/es.object.keys.js\");\n/* harmony import */ var core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ \"./node_modules/core-js/modules/es.object.to-string.js\");\n/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es.object.values.js */ \"./node_modules/core-js/modules/es.object.values.js\");\n/* harmony import */ var core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es.regexp.exec.js */ \"./node_modules/core-js/modules/es.regexp.exec.js\");\n/* harmony import */ var core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/modules/es.string.match.js */ \"./node_modules/core-js/modules/es.string.match.js\");\n/* harmony import */ var core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/modules/web.dom-collections.iterator.js */ \"./node_modules/core-js/modules/web.dom-collections.iterator.js\");\n/* harmony import */ var core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _Users_daomanhkha_Library_CloudStorage_Dropbox_code_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/store */ \"./src/store/index.js\");\n/* harmony import */ var _store_document__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/store/document */ \"./src/store/document/index.js\");\n/* harmony import */ var _plugins_util__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/plugins/util */ \"./src/plugins/util.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar SQLITE_COLUMN_IDENTIFIER = 's_table_id_sql_lite';\nvar listNameValueControl = {};\n\nvar checkControlPropertyProp = function checkControlPropertyProp(instance, controlName, type) {\n  var control = getControlInstanceFromStore(instance, controlName);\n\n  if (control && control.controlProperties[type] && control.controlProperties[type].value) {\n    return control;\n  } else {\n    return false;\n  }\n};\n\nvar checkControlFormulaProp = function checkControlFormulaProp(instance, controlName, type) {\n  var control = getControlInstanceFromStore(instance, controlName);\n\n  if (control && control.controlFormulas[type] && control.controlFormulas[type].instance) {\n    return control;\n  } else {\n    return false;\n  }\n};\n\nvar getControlInstanceFromStore = function getControlInstanceFromStore(instance, controlName) {\n  if (_store_document__WEBPACK_IMPORTED_MODULE_15__[\"default\"].state.submit[instance].listInputInDocument.hasOwnProperty(controlName)) {\n    return _store_document__WEBPACK_IMPORTED_MODULE_15__[\"default\"].state.submit[instance].listInputInDocument[controlName];\n  } else {\n    return false;\n  }\n};\n\nvar minimizeDataAfterRunFormula = function minimizeDataAfterRunFormula(rs) {\n  var value = '';\n\n  if (!rs.server) {\n    var data = rs.data;\n\n    if (data.length > 0) {\n      if (!data[0]) {\n        value = '';\n      } else {\n        value = data[0].values[0][0];\n      }\n    }\n  } else {\n    var _data = rs.data.data;\n\n    if (_data && _data.length > 0) {\n      value = _data[0][Object.keys(_data[0])[0]];\n    }\n  }\n\n  return value;\n};\n\nvar getControlTitleFromName = function getControlTitleFromName(instance, controlName) {\n  var control = getControlInstanceFromStore(instance, controlName);\n\n  if (control != false) {\n    return control.title;\n  } else {\n    return false;\n  }\n};\n\nvar checkInTable = function checkInTable(element) {\n  var table = element.closest('.s-control-table');\n  var tableId = '0';\n\n  if (table.length > 0) {\n    tableId = table.attr('id');\n  }\n\n  return tableId;\n};\n\nvar getControlType = function getControlType(instance, controlName) {\n  var control = getControlInstanceFromStore(instance, controlName);\n\n  if (control != false) {\n    return control.type;\n  } else {\n    return false;\n  }\n};\n\nvar getSDocumentSubmitStore = function getSDocumentSubmitStore(instance) {\n  return _store_document__WEBPACK_IMPORTED_MODULE_15__[\"default\"].state.submit[instance];\n};\n\nvar getSDocumentEditorStore = function getSDocumentEditorStore(instance) {\n  return _store_document__WEBPACK_IMPORTED_MODULE_15__[\"default\"].state.editor[instance];\n};\n\nvar getListInputInDocument = function getListInputInDocument(instance) {\n  return getSDocumentSubmitStore(instance).listInputInDocument;\n};\n\nvar mapTypeToEffectedControl = {\n  linkConfig: 'effectedLinkControl',\n  department: 'effectedDepartmentControl',\n  formulas: 'effectedControl',\n  readOnly: 'effectedReadonlyControl',\n  hidden: 'effectedHiddenControl',\n  require: 'effectedRequireControl',\n  validate: 'effectedValidateControl',\n  minDate: 'effectedMinDateControl',\n  maxDate: 'effectedMaxDateControl',\n  prefixDocInstanceIdentifier: 'effectedPrefixDocInstanceIdentifier',\n  suffixDocInstanceIdentifier: 'effectedSuffixDocInstanceIdentifier',\n  activeManualLocation: 'effectedActiveManualLocation',\n  activeAutomaticLocation: 'effectedActiveAutomaticLocation'\n};\n\nvar currentSelectedControl = function currentSelectedControl(instance) {\n  return getSDocumentEditorStore(instance).currentSelectedControl;\n};\n\nvar getControlEditor = function getControlEditor(instance, id) {\n  var tableId = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '0';\n  var allControl = getSDocumentEditorStore(instance).allControl;\n\n  if (tableId != '0') {\n    return allControl[tableId]['listFields'][id];\n  } else {\n    return allControl[id];\n  }\n}; // hàm kiểm tra control title đã được liên kết với control khác chưa\n\n\nvar checkLinkControlTitle = function checkLinkControlTitle(instance, ele) {\n  var isValid = true;\n  var errValue = '';\n  ele.removeClass('s-control-error');\n  var curControl = currentSelectedControl(instance);\n  var input = curControl.properties.name.linkControl;\n\n  if (input.value.id == '' && input.value.name == 0) {\n    errValue = SYMPER_APP.$t('v2.doc.notBlankLinkControl');\n    ele.addClass('s-control-error');\n    isValid = false;\n  }\n\n  var tableId = checkInTable(ele);\n  var validateStatus = {\n    isValid: isValid,\n    message: errValue\n  };\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateProp', {\n    id: curControl.id,\n    name: 'linkControl',\n    value: validateStatus,\n    tableId: tableId,\n    type: 'validateStatus',\n    instance: instance\n  });\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateCurrentControlProps', {\n    instance: instance,\n    group: 'name',\n    prop: 'linkControl',\n    typeProp: 'validateStatus',\n    value: validateStatus\n  });\n};\n/**\n * Hàm kiểm tra tên 1 control có bị trùng với các control khác hay không, nếu bị trùng thì thông báo lỗi\n */\n\n\nvar checkNameControl = function checkNameControl(instance) {\n  if (!listNameValueControl.hasOwnProperty(instance)) {\n    listNameValueControl[instance] = {};\n  }\n\n  var isValid = true;\n  var curControl = currentSelectedControl(instance);\n  var input = curControl.properties.name.name;\n  var elements = $('#document-editor-' + instance + '_ifr').contents().find('#' + curControl.id);\n  var tableId = checkInTable(elements);\n  if (tableId == curControl.id) tableId = '0';\n  var errValue = '';\n  var listValue = Object.values(listNameValueControl[instance]);\n  var dataControl = {\n    value: input.value,\n    match: false,\n    id: curControl.id\n  };\n\n  if (input.value == '' && input.value.length == 0) {\n    errValue = SYMPER_APP.$t('v2.doc.notBlankLinkControl');\n    elements.addClass('s-control-error');\n    isValid = false;\n  } else {\n    if (/^[a-z_$][a-z_$0-9]*$/.test(input.value) == false) {\n      errValue = SYMPER_APP.$t('v2.doc.nameInvalid');\n      elements.addClass('s-control-error');\n      isValid = false;\n    } else {\n      elements.removeClass('s-control-error');\n      var controlConflic = listValue.filter(function (c) {\n        return c.value == input.value;\n      });\n\n      if (controlConflic.length > 0) {\n        var listControlIdConflic = controlConflic.reduce(function (arr, obj) {\n          return [].concat(Object(_Users_daomanhkha_Library_CloudStorage_Dropbox_code_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_13__[\"default\"])(arr), [obj.id]);\n        }, []);\n        dataControl.match = listControlIdConflic;\n        elements.addClass('s-control-error');\n\n        for (var index = 0; index < controlConflic.length; index++) {\n          var control = controlConflic[index];\n          var newList = _plugins_util__WEBPACK_IMPORTED_MODULE_16__[\"util\"].cloneDeep(listControlIdConflic);\n          newList.splice(newList.indexOf(control.id), 1);\n          newList.push(curControl.id);\n          listNameValueControl[instance][control.id].match = newList;\n          $('#document-editor-' + instance + '_ifr').contents().find('#' + control.id).addClass('s-control-error');\n\n          var _tableId = checkInTable($('#document-editor-' + instance + '_ifr').contents().find('#' + control.id));\n\n          if (_tableId == control.id) {\n            _tableId = '0';\n          }\n\n          var controlEditor = getControlEditor(instance, control.id, _tableId);\n          controlEditor.properties.name.validateStatus = {\n            isValid: false,\n            message: SYMPER_APP.$t('v2.doc.duplicateNameControl')\n          };\n        }\n\n        if (listNameValueControl[instance].hasOwnProperty(curControl.id)) {\n          for (var _index = 0; _index < listNameValueControl[instance][curControl.id].length; _index++) {\n            var element = listNameValueControl[instance][curControl.id][_index];\n            $('#document-editor-' + instance + '_ifr').contents().find('#' + element.id).removeClass('s-control-error');\n          }\n        }\n      } else {\n        if (listNameValueControl[instance].hasOwnProperty(curControl.id)) {\n          var controlOldConflic = listNameValueControl[instance][curControl.id].match;\n\n          for (var _index2 = 0; _index2 < controlOldConflic.length; _index2++) {\n            var _control = controlOldConflic[_index2];\n\n            listNameValueControl[instance][_control].match.splice(listNameValueControl[instance][_control].match.indexOf(curControl.id), 1);\n\n            if (listNameValueControl[instance][_control].match.length == 0) $('#document-editor-' + instance + '_ifr').contents().find('#' + _control).removeClass('s-control-error');\n          }\n        }\n\n        $('#document-editor-' + instance + '_ifr').contents().find('#' + curControl.id).removeClass('s-control-error');\n      }\n    }\n  }\n\n  listNameValueControl[instance][curControl.id] = dataControl;\n  var validateStatus = {\n    isValid: isValid,\n    message: errValue\n  };\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateProp', {\n    id: curControl.id,\n    name: 'name',\n    value: validateStatus,\n    tableId: tableId,\n    type: 'validateStatus',\n    instance: instance\n  });\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateCurrentControlProps', {\n    instance: instance,\n    group: 'name',\n    prop: 'name',\n    typeProp: 'validateStatus',\n    value: validateStatus\n  });\n  return isValid;\n};\n/**\n * Hàm kiểm tra tên 1 control có bị trùng với các control khác hay không, nếu bị trùng thì thông báo lỗi\n */\n\n\nvar checkTitleControl = function checkTitleControl(instance) {\n  var isValid = true;\n  var curControl = currentSelectedControl(instance);\n  var input = curControl.properties.name.title;\n  var elements = $('#document-editor-' + instance + '_ifr').contents().find('#' + curControl.id);\n  elements.removeClass('s-control-error');\n\n  if (elements.is('.page-item')) {\n    elements.find('.page-item__name').text(input.value);\n  }\n\n  if (elements.is('[s-control-type=\"tab\"]')) {\n    elements.text(input.value);\n  }\n\n  var tableId = checkInTable(elements);\n  if (tableId == curControl.id) tableId = '0';\n  var errValue = '';\n\n  if (!input.value) {\n    errValue = SYMPER_APP.$t('v2.doc.notBlankControlTitle');\n    isValid = false;\n    elements.addClass('s-control-error');\n  }\n\n  var validateStatus = {\n    isValid: isValid,\n    message: errValue\n  };\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateProp', {\n    id: curControl.id,\n    name: 'title',\n    value: validateStatus,\n    tableId: tableId,\n    type: 'validateStatus',\n    instance: instance\n  });\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateCurrentControlProps', {\n    instance: instance,\n    group: 'name',\n    prop: 'title',\n    typeProp: 'validateStatus',\n    value: validateStatus\n  });\n  return isValid;\n};\n/**\n * Hàm tính toán ra vị trí để hiển thị popup trên màn hình submit\n * @param {*} e\n * @param {*} context //  element root submit or detail\n * @param {*} cardContext // card\n * @returns\n */\n\n\nvar calculatorPositionBox = function calculatorPositionBox(e, context) {\n  var sizeAdditional = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var addTop = sizeAdditional && sizeAdditional.top ? sizeAdditional.top : 0;\n  var addBottom = sizeAdditional && sizeAdditional.bottom ? sizeAdditional.bottom : 0;\n  var addLeft = sizeAdditional && sizeAdditional.left ? sizeAdditional.left : 0;\n  var addRight = sizeAdditional && sizeAdditional.right ? sizeAdditional.right : 0;\n  var inputOffset = $(e.curTarget).offset();\n  var positionBox = {};\n  var submitFormOffset = context.offset();\n  var submitFormWidth = context.width();\n  var leftDiff = inputOffset.left - submitFormOffset.left;\n  var inputWidth = $(e.curTarget).width();\n  var inputHeight = $(e.curTarget).height();\n  var contextPadding = context.innerWidth() - context.width();\n  var scrollTop = context.closest('.scroll-content').scrollTop();\n\n  if (submitFormWidth - (inputOffset.left - submitFormOffset.left) + inputWidth > submitFormWidth / 2) {\n    positionBox = {\n      left: leftDiff + addLeft + 'px'\n    };\n  } else {\n    positionBox = {\n      right: addRight + submitFormWidth - (inputOffset.left - submitFormOffset.left) - inputWidth + contextPadding / 2 - 8 + 'px'\n    };\n  }\n\n  if (window.innerHeight - inputOffset.top - inputHeight > inputOffset.top) {\n    positionBox.top = inputOffset.top - submitFormOffset.top + inputHeight + addTop + 1 + 'px';\n  } else {\n    var bias = 0;\n\n    if (context.closest('.showlist-context').length > 0) {\n      bias = -12;\n    } else if (context.closest('.listobject-context').length > 0) {\n      bias = 20;\n    } else if (context.closest('.popup-context').length > 0) {\n      bias = -56;\n    }\n\n    positionBox.bottom = addBottom + window.innerHeight - inputOffset.top - scrollTop + 2 + bias + 'px';\n\n    if (inputOffset.top - submitFormOffset.top < 500) {\n      positionBox.maxHeight = inputOffset.top - 8 - submitFormOffset.top + 'px';\n    } else {\n      positionBox.maxHeight = '500px';\n    }\n  }\n\n  return positionBox;\n};\n\nvar addCssItem = function addCssItem(key, value, elements) {\n  if (key == 'isHidden') {\n    key = 'background';\n    value = value ? '#bdbcbc' : '';\n  }\n\n  var item = {};\n  item[key] = value;\n  elements.css(item);\n  elements.attr('data-mce-style', elements.attr('style'));\n}; // hàm replace giá trị hiển thị tên control title html trong editor\n\n\nvar replaceNameItem = function replaceNameItem(value, elements) {\n  elements.text(value);\n}; // hàm thay đổi tên của control liên kết với control title\n\n\nvar replaceLinkControl = function replaceLinkControl(linkControlId, elements) {\n  elements.attr('control-link-id', linkControlId);\n}; // hàm add thêm thuộc tính chứa name control title vào html\n\n\nvar setNameTitleControl = function setNameTitleControl(value, elements) {\n  elements.attr('control-title-name', value);\n}; // hàm add thêm thuộc tính chứa title control title vào html\n\n\nvar setTitleTitleControl = function setTitleTitleControl(value, elements) {\n  elements.attr('control-title-title', value);\n};\n/**\n * Hàm xử lí lấy dữ liệu cấu hình cho xóa dòng tự động trong table đã lưu được lấy từ api\n */\n\n\nvar getConfigDeleteRowTable = function getConfigDeleteRowTable(config) {\n  var isOptimize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  try {\n    var configJson = JSON.parse(config);\n\n    if (configJson.hasOwnProperty('dataConfigDeleteRow')) {\n      var otherData = configJson['dataConfigDeleteRow'];\n\n      if (isOptimize) {\n        var operators = {};\n\n        for (var index = 0; index < otherData.length; index++) {\n          var element = otherData[index];\n          var operator = element.operator;\n\n          if (operator == '=') {\n            operator = '==';\n          }\n\n          operators[element.controlName.name] = operator + ' ' + element.value;\n        }\n\n        return operators;\n      }\n\n      return otherData;\n    }\n  } catch (error) {\n    console.warn(error);\n  }\n\n  return [];\n};\n\nvar checkValidateControlPrimary = function checkValidateControlPrimary(instance) {\n  var isValid = true;\n  var curControl = currentSelectedControl(instance);\n  var input = curControl.properties.name.startNumber;\n  var elements = $('#document-editor-' + instance + '_ifr').contents().find('#' + curControl.id);\n  elements.removeClass('s-control-error');\n  var tableId = checkInTable(elements);\n  if (tableId == curControl.id) tableId = '0';\n  var errValue = '';\n\n  if (!input.value) {\n    errValue = SYMPER_APP.$t('v2.doc.notBlankStartNumber');\n    isValid = false;\n    elements.addClass('s-control-error');\n  }\n\n  var validateStatus = {\n    isValid: isValid,\n    message: errValue\n  };\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateProp', {\n    id: curControl.id,\n    name: 'startNumber',\n    value: validateStatus,\n    tableId: tableId,\n    type: 'validateStatus',\n    instance: instance\n  });\n  _store__WEBPACK_IMPORTED_MODULE_14__[\"default\"].commit('document/updateCurrentControlProps', {\n    instance: instance,\n    group: 'name',\n    prop: 'startNumber',\n    typeProp: 'validateStatus',\n    value: validateStatus\n  });\n  return isValid;\n};\n\n\n\n//# sourceURL=webpack:///./src/views/document/common/common.js?");

/***/ })

}]);